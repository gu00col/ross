<!-- Nota: O conteúdo exato de 'layouts/login.phtml' (HTML, CSS, JS) será colado aqui,
     mas a parte do PHP `print_r($this->content());` será substituída pelo formulário
     e lógica de mensagens de erro do arquivo 'index/login.phtml' original. -->

<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ROSS | Analista Jurídico</title>
    <link rel="shortcut icon" href="/Assets/images/favicon.ico" type="image/x-icon">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Bootstrap CSS -->
    <link href="/Assets/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Estilos personalizados -->
    <style>
        :root {
            --ross-blue: #1A2D4F ;
            --ross-cream: #F9EBE0;
        }
        body {
            font-family: 'Roboto Condensed', sans-serif;
            margin: 0;
            background-color: var(--ross-blue);
        }
        .login-left-section {
            background-color: var(--ross-blue);
        }
        .login-right-section {
            background-color: var(--ross-cream);
            border-radius: 30px 0 0 30px;
        }
        @media (max-width: 768px) {
            .login-right-section {
                border-radius: 0;
            }
        }
        .login-form-control {
            border: 2px solid var(--ross-blue);
            background-color: var(--ross-cream);
        }
        .login-form-control:focus {
            border-color: var(--ross-blue);
            box-shadow: 0 0 0 0.2rem rgba(13, 33, 73, 0.25);
            background-color: #ffffff;
        }
        .login-btn-primary {
            background-color: var(--ross-blue);
            border-color: var(--ross-blue);
            transition: transform 0.2s ease-in-out;
        }
        .login-btn-primary:hover {
            background-color: #0b1a3a;
            border-color: #0b1a3a;
            transform: translateY(-2px);
        }
        .login-text-primary {
            color: var(--ross-blue);
        }
        .login-logo-mobile {
            width: 100px;
            height: auto;
        }
        .login-logo-desktop {
            width: 200px;
            height: auto;
            filter: brightness(0) invert(1);
        }
        .login-letter-spacing {
            letter-spacing: 2px;
        }
    </style>
</head>
<body>
    <main class="container-fluid vh-100 p-0">
        <div class="row g-0 h-100">
            <section class="col-md-8 d-none d-md-flex flex-column align-items-center justify-content-center login-left-section">
                <div class="text-center text-white p-5">
                    <img src="/Assets/images/logo-ross.svg" alt="ROSS Logo" class="mb-4 login-logo-desktop">
                    <h1 class="display-3 fw-bold login-letter-spacing">ROSS</h1>
                    <p class="h4 fw-light mt-2">Seu Analista Jurídico com IA</p>
                </div>
            </section>
            <section class="col-12 col-md-4 d-flex flex-column align-items-center justify-content-center login-right-section">
                <div class="w-100 p-4" style="max-width: 400px;">
                    <div class="text-center mb-4 d-block d-md-none">
                        <img src="/Assets/images/logo-ross-blue.svg" alt="ROSS Logo" class="mb-3 login-logo-mobile">
                        <p class="h5 fw-light mt-2">Seu Analista Jurídico com IA</p>
                    </div>
                    <header class="text-center mb-5">
                        <h2 class="h1 fw-bold login-text-primary">Acessar Conta</h2>
                        <p class="text-muted">Bem-vindo de volta!</p>
                    </header>
                    <?php if ($this->view->password_changed) { ?>
                        <div class="alert alert-success" role="alert">
                            Senha alterada com sucesso! Por favor, faça o login novamente.
                        </div>
                    <?php } else if ($this->view->unauthorized_access) { ?>
                        <div class="alert alert-warning" role="alert">
                            Você precisa estar logado para acessar esta página.
                        </div>
                    <?php } else if ($this->view->login_error) { ?>
                        <div class="alert alert-danger" role="alert">
                            E-mail ou senha inválidos. Por favor, tente novamente.
                        </div>
                    <?php } ?>
                    <form method="POST" action="/login_post">
                        <div class="form-floating mb-3">
                            <input type="email" class="form-control login-form-control" id="email" name="email" placeholder="seu@email.com" required>
                            <label for="email">E-mail</label>
                        </div>
                        <div class="form-floating mb-3">
                            <input type="password" class="form-control login-form-control" id="password" name="password" placeholder="Senha" required>
                            <label for="password">Senha</label>
                        </div>
                        <div class="text-end mb-4">
                            <a href="/forgot-password" class="small text-decoration-none login-text-primary">Esqueci minha senha</a>
                        </div>
                        <button type="submit" class="btn btn-primary btn-lg w-100 fw-bold text-uppercase py-3 login-btn-primary">Entrar</button>
                    </form>
                </div>
            </section>
        </div>
    </main>
    <!-- Bootstrap JavaScript -->
    <script src="/Assets/js/bootstrap.bundle.min.js"></script>
</body>
</html>